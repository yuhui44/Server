webpackJsonp([14],{Svr5:function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r("c2Ch"),o={data:function(){var s=this;return{loading:!0,showSuccess:!1,showFail:!1,email:"",resetPassFormVisible:!1,resetPassForm:{password:"",checkPassword:""},resetPassFormRules:{password:[{required:!0,validator:function(e,r,t){""===r?t(new Error("请输入密码")):/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]+$/.test(r)?/^.{8,20}$/.test(r)?(s.$refs.resetPassForm.validateField("checkPassword"),t()):t(new Error("至少8个字符！")):t(new Error("必须包含字母和数字！"))},trigger:"blur"}],checkPassword:[{required:!0,validator:function(e,r,t){""===r?t(new Error("请再次输入密码")):r!==s.resetPassForm.password?t(new Error("两次输入密码不一致!")):t()},trigger:"blur"}]}}},mounted:function(){},created:function(){var s=this;console.log(this.$route.params.token),Object(t.s)({token:this.$route.params.token}).then(function(e){s.loading=!1,s.resetPassFormVisible=!0,console.log(e,"请求成功")}).catch(function(e){s.loading=!1,s.showFail=!0,console.log(e,"请求失败")})},methods:{resetPassSubmit:function(){var s=this;this.$refs.resetPassForm.validate(function(e){e?Object(t.t)({token:s.$route.params.token,password:s.resetPassForm.password}).then(function(e){s.email=e.data.email,s.showSuccess=!0,s.resetPassFormVisible=!1,console.log(e,"请求成功")}).catch(function(e){s.resetPassFormVisible=!1,thid.showFail=!0,console.log(e,"请求失败")}):s.$message({message:"请填写新密码",type:"error"})})}}},a={render:function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",[r("div",{attrs:{id:"center"}},[r("h1",[s._v("密码重置")]),s._v(" "),s.loading?r("h2",[s._v("正在验证链接，请稍等...")]):s._e(),s._v(" "),s.showSuccess?r("h2",[s._v("账号“"+s._s(s.email)+"”的密码重置成功！")]):s._e(),s._v(" "),s.showFail?r("h2",[s._v("链接已失效，请重新发起密码重置！")]):s._e()]),s._v(" "),s.resetPassFormVisible?r("el-form",{ref:"resetPassForm",attrs:{id:"form",model:s.resetPassForm,"status-icon":"","label-width":"100px",rules:s.resetPassFormRules}},[r("el-form-item",{attrs:{label:"新密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:s.resetPassForm.password,callback:function(e){s.$set(s.resetPassForm,"password",e)},expression:"resetPassForm.password"}})],1),s._v(" "),r("el-form-item",{attrs:{label:"确认新密码",prop:"checkPassword"}},[r("el-input",{attrs:{type:"password"},model:{value:s.resetPassForm.checkPassword,callback:function(e){s.$set(s.resetPassForm,"checkPassword",e)},expression:"resetPassForm.checkPassword"}})],1),s._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){s.resetPassSubmit()}}},[s._v("确定")])],1)],1):s._e()],1)},staticRenderFns:[]};var i=r("VU/8")(o,a,!1,function(s){r("nzAj")},"data-v-29c11217",null);e.default=i.exports},nzAj:function(s,e){}});
//# sourceMappingURL=14.0ea9bb5a8f59c889feee.js.map