webpackJsonp([4],{"Km6/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("bOdI"),l=r.n(o),a=r("c2Ch"),n={data:function(){var e;return e={propertyWantsInfo:[],propertyWantsDialogVisible:!1,propertyWantsDialogTitle:"产权意向信息"},l()(e,"propertyWantsInfo",[]),l()(e,"allPropertysInfo",[]),l()(e,"propertyInfoForm",{}),l()(e,"propertyInfoDialogVisible",!1),l()(e,"propertyInfoDialogTitle","新建或修改产权信息"),l()(e,"propertyInfoFormRules",{propertyName:[{required:!0,message:"请填写产权名",trigger:"blur"}],summary:[{required:!0,message:"请填写摘要",trigger:"blur"}],detail:[{required:!0,message:"请填写详情",trigger:"blur"}]}),e},mounted:function(){},created:function(){this.getAllPropertysInfo2()},methods:{getAllPropertysInfo2:function(){var e=this;Object(a.e)().then(function(t){console.log(t,"请求成功"),e.allPropertysInfo=t.data.propertys}).catch(function(e){console.log(e,"请求错误")})},editPropertyInfo:function(e){var t=this;e?Object(a.j)({_id:e._id}).then(function(e){console.log(e,"请求成功"),t.propertyInfoForm=e.data.property,t.propertyInfoDialogTitle="编辑产权（ID："+e.data.property._id+"）",t.propertyInfoDialogVisible=!0}).catch(function(e){console.log(e,"请求错误")}):console.log("姿势不对哦，参数去哪了？")},postPropertyInfo2:function(){var e=this;this.$refs.propertyInfoForm.validate(function(t){t?Object(a.p)(e.propertyInfoForm).then(function(t){console.log(t,"请求成功"),e.propertyInfoDialogVisible=!1,e.propertyInfoForm={},e.getAllPropertysInfo2()}).catch(function(e){console.log(e,"请求错误")}):e.$message({message:"请完整填写产权信息",type:"error"})})},getWantsInfo2:function(e){var t=this;e&&Object(a.n)({_id:e._id}).then(function(r){console.log(r,"请求成功"),r.data.wants&&(t.propertyWantsInfo=r.data.wants,t.propertyWantsDialogTitle="产权意向信息（ID："+e._id+"）",t.propertyWantsDialogVisible=!0)}).catch(function(e){console.log(e,"请求错误")})}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allPropertysInfo,border:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"产权ID"}},[r("span",[e._v(e._s(t.row._id||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"产权名"}},[r("span",[e._v(e._s(t.row.propertyName||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"发布者ID"}},[r("span",[e._v(e._s(t.row.publisher._id||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"发布者用户名"}},[r("span",[e._v(e._s(t.row.publisher.username||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"发布者邮箱"}},[r("span",[e._v(e._s(t.row.publisher.email||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"是否发布"}},[r("span",[e._v(e._s(t.row.isPublish?"发布中":"未发布"))])]),e._v(" "),r("el-form-item",{attrs:{label:"是否售出"}},[r("span",[e._v(e._s(t.row.isSelt?"已售出":"出售中"))])]),e._v(" "),r("el-form-item",{attrs:{label:"状态"}},[r("span",[e._v(e._s(t.row.isDisable?"被禁用":"正常"))])]),e._v(" "),r("el-form-item",{attrs:{label:"创建时间"}},[r("span",[e._v(e._s(new Date(t.row.createTime).toLocaleString("chinese",{hour12:!1})||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"编辑时间"}},[r("span",[e._v(e._s(new Date(t.row.editTime).toLocaleString("chinese",{hour12:!1})||"null"))])]),e._v(" "),r("el-form-item",{attrs:{label:"摘要"}},[r("span",[e._v(e._s(t.row.summary||"null"))])])],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"_id",label:"产权ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"propertyName",label:"产权名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"publisher._id",label:"发布者ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"publisher.username",label:"发布者用户名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"publisher.email",label:"发布者邮箱"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.getWantsInfo2(t.row)}}},[e._v("意向")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.editPropertyInfo(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:e.propertyInfoDialogTitle,visible:e.propertyInfoDialogVisible,width:"340px","append-to-body":!0},on:{"update:visible":function(t){e.propertyInfoDialogVisible=t}}},[r("el-form",{ref:"propertyInfoForm",attrs:{model:e.propertyInfoForm,"status-icon":"","label-width":"80px",rules:e.propertyInfoFormRules}},[r("el-form-item",{attrs:{label:"产权名",prop:"propertyName"}},[r("el-input",{model:{value:e.propertyInfoForm.propertyName,callback:function(t){e.$set(e.propertyInfoForm,"propertyName",t)},expression:"propertyInfoForm.propertyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"摘要",prop:"summary"}},[r("el-input",{model:{value:e.propertyInfoForm.summary,callback:function(t){e.$set(e.propertyInfoForm,"summary",t)},expression:"propertyInfoForm.summary"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"详情",prop:"detail"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:e.propertyInfoForm.detail,callback:function(t){e.$set(e.propertyInfoForm,"detail",t)},expression:"propertyInfoForm.detail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否发布"}},[r("el-switch",{model:{value:e.propertyInfoForm.isPublish,callback:function(t){e.$set(e.propertyInfoForm,"isPublish",t)},expression:"propertyInfoForm.isPublish"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否售出"}},[r("el-switch",{model:{value:e.propertyInfoForm.isSelt,callback:function(t){e.$set(e.propertyInfoForm,"isSelt",t)},expression:"propertyInfoForm.isSelt"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否禁用"}},[r("el-switch",{model:{value:e.propertyInfoForm.isDisabled,callback:function(t){e.$set(e.propertyInfoForm,"isDisabled",t)},expression:"propertyInfoForm.isDisabled"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[r("el-date-picker",{attrs:{type:"datetime"},model:{value:e.propertyInfoForm.createTime,callback:function(t){e.$set(e.propertyInfoForm,"createTime",t)},expression:"propertyInfoForm.createTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"修改时间",prop:"editTime"}},[r("el-date-picker",{attrs:{type:"datetime"},model:{value:e.propertyInfoForm.editTime,callback:function(t){e.$set(e.propertyInfoForm,"editTime",t)},expression:"propertyInfoForm.editTime"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.postPropertyInfo2()}}},[e._v("确定")])],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.propertyWantsDialogTitle,visible:e.propertyWantsDialogVisible,"append-to-body":!0,"custom-class":"property-wants"},on:{"update:visible":function(t){e.propertyWantsDialogVisible=t}}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.propertyWantsInfo,border:""}},[r("el-table-column",{attrs:{prop:"wanter._id",label:"意向者ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"wanter.username",label:"用户名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"wanter.email",label:"邮箱"}}),e._v(" "),r("el-table-column",{attrs:{prop:"wanter.telephone",label:"电话"}}),e._v(" "),r("el-table-column",{attrs:{prop:"wanter.qqNumber",label:"QQ号码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"wanter.wechat",label:"微信号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"message",label:"留言"}}),e._v(" "),r("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"cell"},[e._v(e._s(new Date(t.row.createTime).toLocaleString("chinese",{hour12:!1})))])]}}])})],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(n,s,!1,function(e){r("qrsf"),r("nfkg")},"data-v-62db5d06",null);t.default=i.exports},nfkg:function(e,t){},qrsf:function(e,t){}});
//# sourceMappingURL=4.bc5cce55e1a13f460516.js.map