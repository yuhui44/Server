webpackJsonp([3],{"7d73":function(e,r){},"S+5r":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("mvHQ"),l=t.n(o),s=t("c2Ch"),n={data:function(){return{usersInfo:[],userInfoForm:{},userInfoDialogVisible:!1,userInfoFormRules:{username:[{required:!0,validator:function(e,r,t){""===r?t(new Error("请输入用户名")):/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(r)?/^[0-9]+$/.test(r)?t(new Error("不可由纯数字组成")):/^.{4,20}$/.test(r)?t():t(new Error("至少4个字符！")):t(new Error("不可包含特殊符号！"))},trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}]}}},mounted:function(){},created:function(){this.getUsersInfo2()},methods:{getUsersInfo2:function(){var e=this;Object(s.m)().then(function(r){console.log(r,"请求成功"),e.usersInfo=r.data.users}).catch(function(e){console.log(e,"请求错误")})},editUserInfo:function(e){console.log(e),this.userInfoForm=JSON.parse(l()(e)),this.userInfoDialogVisible=!0},postUserInfo2:function(){var e=this;Object(s.q)(this.userInfoForm).then(function(r){console.log(r,"请求成功"),e.userInfoDialogVisible=!1,e.userInfoForm={},e.getUsersInfo2()}).catch(function(e){console.log(e,"请求错误")})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.usersInfo,border:""}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t("el-form-item",{attrs:{label:"用户ID"}},[t("span",[e._v(e._s(r.row._id||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"用户名"}},[t("span",[e._v(e._s(r.row.username||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"邮箱"}},[t("span",[e._v(e._s(r.row.email||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"电话号码"}},[t("span",[e._v(e._s(r.row.telephone||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"QQ号码"}},[t("span",[e._v(e._s(r.row.qqNumber||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"微信号"}},[t("span",[e._v(e._s(r.row.wechat||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"注册时间"}},[t("span",[e._v(e._s(new Date(r.row.createTime).toLocaleString("chinese",{hour12:!1})||"null"))])]),e._v(" "),t("el-form-item",{attrs:{label:"邮件提醒"}},[t("span",[e._v(e._s(r.row.message?"是":"否"))])]),e._v(" "),t("el-form-item",{attrs:{label:"验证邮箱"}},[t("span",[e._v(e._s(r.row.emailConfirmation?"已验证":"未验证"))])]),e._v(" "),t("el-form-item",{attrs:{label:"管理员"}},[t("span",[e._v(e._s(r.row.isAdmin?"是":"否"))])]),e._v(" "),t("el-form-item",{attrs:{label:"状态"}},[t("span",[e._v(e._s(r.row.isDisabled?"被禁用":"正常"))])])],1)]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"_id",label:"用户ID","min-width":"210"}}),e._v(" "),t("el-table-column",{attrs:{prop:"username",label:"用户名","min-width":"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"200"}}),e._v(" "),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.editUserInfo(r.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),t("el-dialog",{attrs:{title:"修改用户信息",visible:e.userInfoDialogVisible,width:"340px","append-to-body":!0},on:{"update:visible":function(r){e.userInfoDialogVisible=r}}},[t("el-form",{ref:"userInfoForm",attrs:{model:e.userInfoForm,"status-icon":"","label-width":"80px",rules:e.userInfoFormRules}},[t("el-form-item",{attrs:{label:"用户ID"}},[t("span",{staticClass:"el-checkbox__label"},[e._v(e._s(e.userInfoForm._id))])]),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{model:{value:e.userInfoForm.username,callback:function(r){e.$set(e.userInfoForm,"username",r)},expression:"userInfoForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{model:{value:e.userInfoForm.email,callback:function(r){e.$set(e.userInfoForm,"email",r)},expression:"userInfoForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[t("el-input",{model:{value:e.userInfoForm.telephone,callback:function(r){e.$set(e.userInfoForm,"telephone",r)},expression:"userInfoForm.telephone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"QQ号码",prop:"qqNumber"}},[t("el-input",{model:{value:e.userInfoForm.qqNumber,callback:function(r){e.$set(e.userInfoForm,"qqNumber",r)},expression:"userInfoForm.qqNumber"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"微信号",prop:"wechat"}},[t("el-input",{model:{value:e.userInfoForm.wechat,callback:function(r){e.$set(e.userInfoForm,"wechat",r)},expression:"userInfoForm.wechat"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"注册时间",prop:"createTime"}},[t("el-date-picker",{attrs:{type:"datetime"},model:{value:e.userInfoForm.createTime,callback:function(r){e.$set(e.userInfoForm,"createTime",r)},expression:"userInfoForm.createTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮件消息"}},[t("el-switch",{model:{value:e.userInfoForm.message,callback:function(r){e.$set(e.userInfoForm,"message",r)},expression:"userInfoForm.message"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"验证邮箱"}},[t("el-switch",{model:{value:e.userInfoForm.emailConfirmation,callback:function(r){e.$set(e.userInfoForm,"emailConfirmation",r)},expression:"userInfoForm.emailConfirmation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"管理员"}},[t("el-switch",{model:{value:e.userInfoForm.isAdmin,callback:function(r){e.$set(e.userInfoForm,"isAdmin",r)},expression:"userInfoForm.isAdmin"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"禁用账号"}},[t("el-switch",{model:{value:e.userInfoForm.isDisabled,callback:function(r){e.$set(e.userInfoForm,"isDisabled",r)},expression:"userInfoForm.isDisabled"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.postUserInfo2()}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(n,a,!1,function(e){t("7d73")},"data-v-e1abaf80",null);r.default=i.exports},mvHQ:function(e,r,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,r,t){var o=t("FeBl"),l=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}}});
//# sourceMappingURL=3.026bf1b2a263831d12e4.js.map